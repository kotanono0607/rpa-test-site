<!-- challenge.html - ãƒãƒ£ãƒ¬ãƒ³ã‚¸ãƒ¢ãƒ¼ãƒ‰ãƒšãƒ¼ã‚¸ Ver.1.0 -->
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ãƒãƒ£ãƒ¬ãƒ³ã‚¸ãƒ¢ãƒ¼ãƒ‰ - RPA ãƒ†ã‚¹ãƒˆã‚µã‚¤ãƒˆ</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    .challenge-card {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 24px;
      border-radius: 12px;
      margin-bottom: 16px;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .challenge-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 24px rgba(102, 126, 234, 0.4);
    }
    .challenge-card h3 {
      margin-bottom: 8px;
      font-size: 1.3rem;
    }
    .challenge-card .time-limit {
      background: rgba(255,255,255,0.2);
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 0.85rem;
      display: inline-block;
      margin-top: 8px;
    }
    .challenge-area {
      min-height: 400px;
      border: 3px dashed var(--border);
      border-radius: 12px;
      padding: 24px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }
    .challenge-area.active {
      border-color: var(--primary);
      border-style: solid;
    }
    .click-targets {
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
      justify-content: center;
    }
    .click-target {
      width: 80px;
      height: 80px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      font-weight: bold;
      color: white;
      cursor: pointer;
      transition: transform 0.1s;
    }
    .click-target:hover {
      transform: scale(1.1);
    }
    .click-target.clicked {
      opacity: 0.5;
      pointer-events: none;
    }
    .click-target.target-a { background: linear-gradient(135deg, #ff6b6b, #ee5a5a); }
    .click-target.target-b { background: linear-gradient(135deg, #4ecdc4, #44a08d); }
    .click-target.target-c { background: linear-gradient(135deg, #45b7d1, #2980b9); }
    .click-target.target-d { background: linear-gradient(135deg, #96e6a1, #66bb6a); }
    .click-target.target-e { background: linear-gradient(135deg, #f093fb, #f5576c); }
    .quick-form {
      width: 100%;
      max-width: 400px;
    }
    .quick-form input {
      width: 100%;
      padding: 12px;
      margin-bottom: 12px;
      border: 2px solid var(--border);
      border-radius: 8px;
      font-size: 1rem;
    }
    .leaderboard {
      background: var(--light);
      border-radius: 8px;
      padding: 16px;
    }
    .leaderboard-item {
      display: flex;
      justify-content: space-between;
      padding: 8px 0;
      border-bottom: 1px solid var(--border);
    }
    .leaderboard-item:last-child {
      border-bottom: none;
    }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <a href="index.html" class="logo">RPA ãƒ†ã‚¹ãƒˆã‚µã‚¤ãƒˆ</a>
      <nav>
        <ul>
          <li><a href="index.html">ãƒˆãƒƒãƒ—</a></li>
          <li><a href="form.html">å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ </a></li>
          <li><a href="click.html">ã‚¯ãƒªãƒƒã‚¯</a></li>
          <li><a href="keyboard.html">ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰</a></li>
          <li><a href="wait.html">å¾…æ©Ÿ</a></li>
          <li><a href="table.html">ãƒ†ãƒ¼ãƒ–ãƒ«</a></li>
          <li><a href="popup.html">ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—</a></li>
          <li><a href="dynamic.html">å‹•çš„</a></li>
          <li><a href="advanced.html">é«˜åº¦</a></li>
          <li><a href="challenge.html" class="active">æŒ‘æˆ¦</a></li>
          <li><a href="levels.html">ãƒ¬ãƒ™ãƒ«</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main>
    <div class="container">
      <h1 class="page-title">ğŸ† ãƒãƒ£ãƒ¬ãƒ³ã‚¸ãƒ¢ãƒ¼ãƒ‰</h1>
      <p class="page-description">åˆ¶é™æ™‚é–“å†…ã«ãƒŸãƒƒã‚·ãƒ§ãƒ³ã‚’ã‚¯ãƒªã‚¢ã—ã‚ˆã†ï¼RPAã‚¹ã‚­ãƒ«ã‚’è©¦ã™çµ¶å¥½ã®æ©Ÿä¼šã§ã™ã€‚</p>

      <!-- ãƒãƒ£ãƒ¬ãƒ³ã‚¸ãƒãƒŠãƒ¼ï¼ˆå®Ÿè¡Œä¸­ã«è¡¨ç¤ºï¼‰ -->
      <div id="challenge-banner" class="challenge-banner hidden">
        <div>
          <strong>ãƒŸãƒƒã‚·ãƒ§ãƒ³:</strong>
          <span id="challenge-mission"></span>
        </div>
        <div class="challenge-timer" id="challenge-timer">--ç§’</div>
      </div>

      <!-- ãƒãƒ£ãƒ¬ãƒ³ã‚¸çµæœ -->
      <div id="challenge-result" class="hidden"></div>

      <div class="grid-2">
        <!-- ãƒãƒ£ãƒ¬ãƒ³ã‚¸ä¸€è¦§ -->
        <div>
          <h2 style="margin-bottom: 16px;">ğŸ“‹ ãƒãƒ£ãƒ¬ãƒ³ã‚¸ä¸€è¦§</h2>

          <div class="challenge-card" onclick="ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚¯ãƒªãƒƒã‚¯ãƒãƒ£ãƒ¬ãƒ³ã‚¸é–‹å§‹()">
            <h3>âš¡ ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚¯ãƒªãƒƒã‚¯</h3>
            <p>A â†’ B â†’ C â†’ D â†’ E ã®é †ç•ªã§ã‚¯ãƒªãƒƒã‚¯</p>
            <span class="time-limit">â±ï¸ åˆ¶é™æ™‚é–“: 5ç§’</span>
          </div>

          <div class="challenge-card" onclick="å…¥åŠ›ãƒãƒ£ãƒ¬ãƒ³ã‚¸é–‹å§‹()">
            <h3>âŒ¨ï¸ é«˜é€Ÿå…¥åŠ›</h3>
            <p>åå‰ã¨ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦é€ä¿¡</p>
            <span class="time-limit">â±ï¸ åˆ¶é™æ™‚é–“: 10ç§’</span>
          </div>

          <div class="challenge-card" onclick="è¨ˆç®—ãƒãƒ£ãƒ¬ãƒ³ã‚¸é–‹å§‹()">
            <h3>ğŸ§® è¨ˆç®—ãƒãƒ£ãƒ¬ãƒ³ã‚¸</h3>
            <p>è¡¨ç¤ºã•ã‚ŒãŸè¨ˆç®—å•é¡Œã®ç­”ãˆã‚’å…¥åŠ›</p>
            <span class="time-limit">â±ï¸ åˆ¶é™æ™‚é–“: 15ç§’</span>
          </div>

          <div class="challenge-card" onclick="é€£ç¶šã‚¯ãƒªãƒƒã‚¯ãƒãƒ£ãƒ¬ãƒ³ã‚¸é–‹å§‹()">
            <h3>ğŸ–±ï¸ é€£ç¶šã‚¯ãƒªãƒƒã‚¯</h3>
            <p>10ç§’é–“ã§ã§ãã‚‹ã ã‘å¤šãã‚¯ãƒªãƒƒã‚¯</p>
            <span class="time-limit">â±ï¸ åˆ¶é™æ™‚é–“: 10ç§’</span>
          </div>
        </div>

        <!-- ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã‚¨ãƒªã‚¢ -->
        <div>
          <h2 style="margin-bottom: 16px;">ğŸ® ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã‚¨ãƒªã‚¢</h2>
          <div id="challenge-area" class="challenge-area">
            <p style="color: var(--secondary); font-size: 1.2rem;">å·¦ã‹ã‚‰ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã‚’é¸æŠã—ã¦ãã ã•ã„</p>
          </div>

          <!-- ã‚¹ã‚³ã‚¢ãƒœãƒ¼ãƒ‰ -->
          <div class="card" style="margin-top: 24px;">
            <div class="card-title">ğŸ… ãƒ™ã‚¹ãƒˆã‚¹ã‚³ã‚¢</div>
            <div class="leaderboard">
              <div class="leaderboard-item">
                <span>ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚¯ãƒªãƒƒã‚¯</span>
                <span id="score-speed">--</span>
              </div>
              <div class="leaderboard-item">
                <span>é«˜é€Ÿå…¥åŠ›</span>
                <span id="score-input">--</span>
              </div>
              <div class="leaderboard-item">
                <span>è¨ˆç®—ãƒãƒ£ãƒ¬ãƒ³ã‚¸</span>
                <span id="score-calc">--</span>
              </div>
              <div class="leaderboard-item">
                <span>é€£ç¶šã‚¯ãƒªãƒƒã‚¯</span>
                <span id="score-click">--</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- æ“ä½œãƒ­ã‚° -->
      <div class="card" style="margin-top: 24px;">
        <div class="card-title">ğŸ“œ æ“ä½œãƒ­ã‚°</div>
        <div id="challenge-log" class="log-area">
          <div class="log-entry"><span class="log-time">[--:--:--]</span>ãƒãƒ£ãƒ¬ãƒ³ã‚¸ãƒ¢ãƒ¼ãƒ‰ã¸ã‚ˆã†ã“ãï¼</div>
        </div>
      </div>
    </div>
  </main>

  <footer>
    <p>RPA Test Site for UIpowershell - Created for automation testing</p>
  </footer>

  <script src="script.js"></script>
  <script>
    let challengeTimer = null;
    let challengeTimeLeft = 0;
    let clickSequence = [];
    let clickCount = 0;
    let calcAnswer = 0;

    function updateTimer() {
      document.getElementById('challenge-timer').textContent = challengeTimeLeft + 'ç§’';
    }

    function showBanner(mission, time) {
      document.getElementById('challenge-banner').classList.remove('hidden');
      document.getElementById('challenge-mission').textContent = mission;
      document.getElementById('challenge-result').classList.add('hidden');
      challengeTimeLeft = time;
      updateTimer();

      challengeTimer = setInterval(() => {
        challengeTimeLeft--;
        updateTimer();
        if (challengeTimeLeft <= 0) {
          ãƒãƒ£ãƒ¬ãƒ³ã‚¸å¤±æ•—();
        }
      }, 1000);
    }

    function hideBanner() {
      document.getElementById('challenge-banner').classList.add('hidden');
      clearInterval(challengeTimer);
    }

    function showResult(success, message) {
      hideBanner();
      const result = document.getElementById('challenge-result');
      result.classList.remove('hidden');
      result.className = 'challenge-result ' + (success ? 'success' : 'failure');
      result.innerHTML = success
        ? `<h2>ğŸ‰ æˆåŠŸï¼</h2><p>${message}</p>`
        : `<h2>ğŸ˜¢ å¤±æ•—</h2><p>${message}</p>`;
      ãƒ­ã‚°ã‚’è¿½åŠ ('challenge-log', success ? 'âœ… ãƒãƒ£ãƒ¬ãƒ³ã‚¸æˆåŠŸ: ' + message : 'âŒ ãƒãƒ£ãƒ¬ãƒ³ã‚¸å¤±æ•—: ' + message);
    }

    function ãƒãƒ£ãƒ¬ãƒ³ã‚¸å¤±æ•—() {
      showResult(false, 'ã‚¿ã‚¤ãƒ ã‚ªãƒ¼ãƒãƒ¼ï¼');
    }

    // ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚¯ãƒªãƒƒã‚¯ãƒãƒ£ãƒ¬ãƒ³ã‚¸
    function ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚¯ãƒªãƒƒã‚¯ãƒãƒ£ãƒ¬ãƒ³ã‚¸é–‹å§‹() {
      clickSequence = [];
      const area = document.getElementById('challenge-area');
      area.classList.add('active');
      area.innerHTML = `
        <p style="margin-bottom: 20px; font-size: 1.1rem;">A â†’ B â†’ C â†’ D â†’ E ã®é †ã«ã‚¯ãƒªãƒƒã‚¯ï¼</p>
        <div class="click-targets">
          <div class="click-target target-a" onclick="ã‚¯ãƒªãƒƒã‚¯é †åºãƒã‚§ãƒƒã‚¯('A', this)">A</div>
          <div class="click-target target-b" onclick="ã‚¯ãƒªãƒƒã‚¯é †åºãƒã‚§ãƒƒã‚¯('B', this)">B</div>
          <div class="click-target target-c" onclick="ã‚¯ãƒªãƒƒã‚¯é †åºãƒã‚§ãƒƒã‚¯('C', this)">C</div>
          <div class="click-target target-d" onclick="ã‚¯ãƒªãƒƒã‚¯é †åºãƒã‚§ãƒƒã‚¯('D', this)">D</div>
          <div class="click-target target-e" onclick="ã‚¯ãƒªãƒƒã‚¯é †åºãƒã‚§ãƒƒã‚¯('E', this)">E</div>
        </div>
      `;
      showBanner('Aâ†’Bâ†’Câ†’Dâ†’Eã®é †ã«ã‚¯ãƒªãƒƒã‚¯', 5);
      ãƒ­ã‚°ã‚’è¿½åŠ ('challenge-log', 'ğŸ¯ ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚¯ãƒªãƒƒã‚¯ãƒãƒ£ãƒ¬ãƒ³ã‚¸é–‹å§‹');
    }

    function ã‚¯ãƒªãƒƒã‚¯é †åºãƒã‚§ãƒƒã‚¯(letter, element) {
      const expected = ['A', 'B', 'C', 'D', 'E'];
      if (letter === expected[clickSequence.length]) {
        clickSequence.push(letter);
        element.classList.add('clicked');
        if (clickSequence.length === 5) {
          const time = 5 - challengeTimeLeft;
          showResult(true, `${time}ç§’ã§ã‚¯ãƒªã‚¢ï¼`);
          document.getElementById('score-speed').textContent = time + 'ç§’';
        }
      } else {
        showResult(false, 'é †ç•ªãŒé•ã„ã¾ã™ï¼');
      }
    }

    // å…¥åŠ›ãƒãƒ£ãƒ¬ãƒ³ã‚¸
    function å…¥åŠ›ãƒãƒ£ãƒ¬ãƒ³ã‚¸é–‹å§‹() {
      const area = document.getElementById('challenge-area');
      area.classList.add('active');
      area.innerHTML = `
        <div class="quick-form">
          <p style="margin-bottom: 16px; text-align: center;">åå‰ã¨ãƒ¡ãƒ¼ãƒ«ã‚’å…¥åŠ›ã—ã¦é€ä¿¡ï¼</p>
          <input type="text" id="quick-name" placeholder="åå‰">
          <input type="email" id="quick-email" placeholder="ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹">
          <button class="btn btn-primary" style="width: 100%;" onclick="å…¥åŠ›ãƒãƒ£ãƒ¬ãƒ³ã‚¸é€ä¿¡()">é€ä¿¡</button>
        </div>
      `;
      showBanner('åå‰ã¨ãƒ¡ãƒ¼ãƒ«ã‚’å…¥åŠ›ã—ã¦é€ä¿¡', 10);
      ãƒ­ã‚°ã‚’è¿½åŠ ('challenge-log', 'âŒ¨ï¸ å…¥åŠ›ãƒãƒ£ãƒ¬ãƒ³ã‚¸é–‹å§‹');
      document.getElementById('quick-name').focus();
    }

    function å…¥åŠ›ãƒãƒ£ãƒ¬ãƒ³ã‚¸é€ä¿¡() {
      const name = document.getElementById('quick-name').value;
      const email = document.getElementById('quick-email').value;
      if (name && email && email.includes('@')) {
        const time = 10 - challengeTimeLeft;
        showResult(true, `${time}ç§’ã§ã‚¯ãƒªã‚¢ï¼`);
        document.getElementById('score-input').textContent = time + 'ç§’';
      } else {
        showResult(false, 'åå‰ã¨æœ‰åŠ¹ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
      }
    }

    // è¨ˆç®—ãƒãƒ£ãƒ¬ãƒ³ã‚¸
    function è¨ˆç®—ãƒãƒ£ãƒ¬ãƒ³ã‚¸é–‹å§‹() {
      const a = Math.floor(Math.random() * 50) + 10;
      const b = Math.floor(Math.random() * 50) + 10;
      calcAnswer = a + b;

      const area = document.getElementById('challenge-area');
      area.classList.add('active');
      area.innerHTML = `
        <div class="quick-form" style="text-align: center;">
          <p style="font-size: 2rem; margin-bottom: 20px;">${a} + ${b} = ?</p>
          <input type="number" id="calc-answer" placeholder="ç­”ãˆã‚’å…¥åŠ›" style="text-align: center; font-size: 1.5rem;">
          <button class="btn btn-primary" style="width: 100%; margin-top: 12px;" onclick="è¨ˆç®—ãƒãƒ£ãƒ¬ãƒ³ã‚¸å›ç­”()">å›ç­”</button>
        </div>
      `;
      showBanner(`${a} + ${b} ã®ç­”ãˆã‚’å…¥åŠ›`, 15);
      ãƒ­ã‚°ã‚’è¿½åŠ ('challenge-log', 'ğŸ§® è¨ˆç®—ãƒãƒ£ãƒ¬ãƒ³ã‚¸é–‹å§‹');
      document.getElementById('calc-answer').focus();
    }

    function è¨ˆç®—ãƒãƒ£ãƒ¬ãƒ³ã‚¸å›ç­”() {
      const answer = parseInt(document.getElementById('calc-answer').value);
      if (answer === calcAnswer) {
        const time = 15 - challengeTimeLeft;
        showResult(true, `æ­£è§£ï¼${time}ç§’ã§ã‚¯ãƒªã‚¢ï¼`);
        document.getElementById('score-calc').textContent = time + 'ç§’';
      } else {
        showResult(false, `ä¸æ­£è§£... æ­£è§£ã¯ ${calcAnswer} ã§ã—ãŸ`);
      }
    }

    // é€£ç¶šã‚¯ãƒªãƒƒã‚¯ãƒãƒ£ãƒ¬ãƒ³ã‚¸
    function é€£ç¶šã‚¯ãƒªãƒƒã‚¯ãƒãƒ£ãƒ¬ãƒ³ã‚¸é–‹å§‹() {
      clickCount = 0;
      const area = document.getElementById('challenge-area');
      area.classList.add('active');
      area.innerHTML = `
        <div style="text-align: center;">
          <p style="font-size: 1.2rem; margin-bottom: 16px;">ãƒœã‚¿ãƒ³ã‚’é€£æ‰“ï¼</p>
          <p style="font-size: 3rem; font-weight: bold; margin-bottom: 20px;" id="click-counter">0</p>
          <button class="btn btn-danger" style="font-size: 1.5rem; padding: 20px 60px;" onclick="é€£ç¶šã‚¯ãƒªãƒƒã‚¯ã‚«ã‚¦ãƒ³ãƒˆ()">ã‚¯ãƒªãƒƒã‚¯ï¼</button>
        </div>
      `;
      showBanner('10ç§’é–“ã§ã§ãã‚‹ã ã‘å¤šãã‚¯ãƒªãƒƒã‚¯', 10);
      ãƒ­ã‚°ã‚’è¿½åŠ ('challenge-log', 'ğŸ–±ï¸ é€£ç¶šã‚¯ãƒªãƒƒã‚¯ãƒãƒ£ãƒ¬ãƒ³ã‚¸é–‹å§‹');

      // ã‚¿ã‚¤ãƒãƒ¼çµ‚äº†æ™‚ã®å‡¦ç†ã‚’ä¸Šæ›¸ã
      clearInterval(challengeTimer);
      challengeTimer = setInterval(() => {
        challengeTimeLeft--;
        updateTimer();
        if (challengeTimeLeft <= 0) {
          clearInterval(challengeTimer);
          showResult(true, `${clickCount}å›ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã—ãŸï¼`);
          document.getElementById('score-click').textContent = clickCount + 'å›';
        }
      }, 1000);
    }

    function é€£ç¶šã‚¯ãƒªãƒƒã‚¯ã‚«ã‚¦ãƒ³ãƒˆ() {
      clickCount++;
      document.getElementById('click-counter').textContent = clickCount;
    }
  </script>
</body>
</html>
